angular.module("schemaForm").run(["$templateCache",function(e){e.put("directives/decorators/bootstrap/datepicker/datepicker.html",'<div ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess(), \'has-feedback\': form.feedback !== false }" class="form-group {{form.htmlClass}}"><label class="control-label" ng-show="showTitle()">{{form.title}}</label><div ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}"><span ng-if="form.fieldAddonLeft" class="input-group-addon" ng-bind-html="form.fieldAddonLeft"></span> <input ng-show="form.key" ng-model="$$value$$" ng-model-options="form.ngModelOptions" ng-disabled="form.readonly" type="text" name="{{form.key.slice(-1)[0]}}" style="background-color: white" placeholder="{{form.placeholder || form.schema.placeholder }}" schema-validate="form" pick-a-date="form.pickadate" min-date="form.minDate" max-date="form.maxDate" format="form.format" model-format="form.modelFormat" class="form-control {{form.fieldHtmlClass}}"> <span ng-if="form.fieldAddonRight" ng-bind-html="form.fieldAddonRight" class="input-group-addon"></span></div><span ng-if="form.feedback !== false" ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError() }" id="{{form.key.slice(-1)[0] + \'Status\'}}" class="form-control-feedback"></span><div class="help-block" sf-message="form.description"></div></div>'),e.put("directives/decorators/bootstrap/datepicker/datetimepicker.html",'<div ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess(), \'has-feedback\': form.feedback !== false }" class="form-group {{form.htmlClass}}"><label class="control-label" ng-show="showTitle()">{{form.title}}</label><div ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}"><div class="row row-grid"><div class="col-xs-12 col-sm-6"><span ng-if="form.fieldAddonLeft" ng-bind-html="form.fieldAddonLeft" class="input-group-addon"></span> <input ng-show="form.key" ng-model="form.$$date" ng-disabled="form.readonly" type="text" style="background-color: white" placeholder="{{form.date.placeholder }}" pick-a-date="form.date.pickadate" min-date="form.date.minDate" max-date="form.date.maxDate" format="form.date.format" model-format="form.date.modelFormat" class="form-control {{form.date.fieldHtmlClass}}"> <span ng-if="form.date.fieldAddonRight" ng-bind-html="form.date.fieldAddonRight" class="input-group-addon"></span></div><div class="col-xs-12 col-sm-6"><span ng-if="form.time.fieldAddonLeft" ng-bind-html="form.time.fieldAddonLeft" class="input-group-addon"></span> <input ng-show="form.key" ng-model="form.$$time" ng-disabled="form.readonly" type="text" style="background-color: white" placeholder="{{form.time.placeholder }}" pick-a-time="form.time.pickatime" min-time="form.time.minTime" max-time="form.time.maxTime" format="form.time.format" model-format="form.time.modelFormat" class="form-control {{form.time.fieldHtmlClass}}"> <span ng-if="form.fieldAddonRight" ng-bind-html="form.fieldAddonRight" class="input-group-addon"></span></div></div><input type="hidden" pick-a-date-time="form" ng-model="$$value$$" name="{{form.key.slice(-1)[0]}}" schema-validate="form"></div><span ng-if="form.feedback !== false" ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError() }" id="{{form.key.slice(-1)[0] + \'Status\'}}" class="form-control-feedback"></span><div class="help-block" sf-message="form.description"></div></div>'),e.put("directives/decorators/bootstrap/datepicker/timepicker.html",'<div ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess(), \'has-feedback\': form.feedback !== false }" class="form-group {{form.htmlClass}}"><label class="control-label" ng-show="showTitle()">{{form.title}}</label><div ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}"><span ng-if="form.fieldAddonLeft" class="input-group-addon" ng-bind-html="form.fieldAddonLeft"></span> <input ng-show="form.key" ng-model="$$value$$" ng-model-options="form.ngModelOptions" ng-disabled="form.readonly" type="text" name="{{form.key.slice(-1)[0]}}" style="background-color: white" placeholder="{{form.placeholder || form.schema.placeholder }}" schema-validate="form" pick-a-time="form.pickatime" min-time="form.minTime" max-time="form.maxTime" format="form.format" model-format="form.modelFormat" class="form-control {{form.fieldHtmlClass}}"> <span ng-if="form.fieldAddonRight" ng-bind-html="form.fieldAddonRight" class="input-group-addon"></span></div><span ng-if="form.feedback !== false" ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError() }" id="{{form.key.slice(-1)[0] + \'Status\'}}" class="form-control-feedback"></span><div class="help-block" sf-message="form.description"></div></div>')}]),angular.module("schemaForm").directive("pickADate",function(){var e=function(e){return angular.isString(e)||angular.isNumber(e)?new Date(e):e};return{restrict:"A",require:"ngModel",scope:{ngModel:"=",pickADate:"=",minDate:"=",maxDate:"=",format:"=",modelFormat:"="},link:function(t,o,a,r){function i(i){if(o.pickadate){i&&"object"==typeof i||(i=angular.isDefined(a.pickADate)&&"object"==typeof a.pickADate?a.pickADate:{}),i.max&&(i.max=e(i.max)),i.min&&(i.min=e(i.min));var d=angular.merge({},f,i),c="yyyy-mm-dd",p=$.fn.pickadate.defaults.format,u=d.modelFormat||t.modelFormat||c,g=d.format||t.format||p;d.format=g,s=o.pickadate(d),n=o.pickadate("picker"),l||(m(r,n,g,u),l=!0)}}function m(e,t,o,a){e.$formatters.push(function(r){return c=!0,angular.isUndefined(r)||null===r||""===r?(r="",e.$setViewValue(r),r):(t.set("view",r,{format:a}),t.set("highlight",r,{format:a}),t.get("highlight",o))}),e.$parsers.push(function(e){return t.get("select",a)})}var n,s,d,l=!1,c=!1,f={onClose:function(){o.blur()},formatSubmit:null},p=t.$watch("ngModel",function(e){if(e&&!l){var t=setInterval(function(){if(c)clearInterval(t);else{var e=r.$modelValue;for(var o in r.$formatters)e=r.$formatters[o](e);r.$viewValue=e,r.$render()}},250);p()}},!0);if(angular.isDefined(a.pickADate))var u=t.$watch("pickADate",function(e){e&&"object"==typeof e&&(n&&n.stop(),d=setTimeout(function(){i(e),clearTimeout(d)},250),u())},!0);else{if(i(),angular.isDefined(a.minDate))var g=t.$watch("minDate",function(t){t&&n&&(n.set("min",e(t)),g())},!0);if(angular.isDefined(a.maxDate))var h=t.$watch("maxDate",function(t){t&&n&&(n.set("max",e(t)),h())},!0)}}}}),angular.module("schemaForm").directive("pickADateTime",function(){function e(e,t){e.$setViewValue(t),e.$commitViewValue(),e.$render()}return{restrict:"A",require:"ngModel",scope:{ngModel:"=",pickADateTime:"="},link:function(t,o,a,r){var i,m,n=null,s="YYYY-MM-DD",d="HH:mm",l=t.$watch("ngModel",function(e){e&&(moment(e).isValid()?(n=moment(e),t.pickADateTime.$$date=n.format(s),t.pickADateTime.$$time=n.format(d)):t.ngModel=void 0,l())},!0);t.$watch(function(e){return{date:e.pickADateTime.$$date,time:e.pickADateTime.$$time}},function(o,a){o&&o.date&&o.time?(i=moment(o.date,s),m=o.time.split(":"),n||(n=moment.utc().hours("00").minutes("00")),n.year(i.year()).month(i.month()).date(i.date()).hours(m[0]).minutes(m[1]).seconds("00"),t.ngModel=n.toISOString()):(o.date&&!o.time||!o.date&&o.time)&&(t.ngModel="",e(r,t.ngModel))},!0)}}}),angular.module("schemaForm").directive("pickATime",function(){var e=function(e){return angular.isString(e)||angular.isNumber(e)?new Date(e):e};return{restrict:"A",require:"ngModel",scope:{ngModel:"=",pickATime:"=",minTime:"=",maxTime:"=",format:"=",modelFormat:"="},link:function(t,o,a,r){function i(i){if(o.pickatime){i&&"object"==typeof i||(i=angular.isDefined(a.pickATime)&&"object"==typeof a.pickATime?a.pickATime:{}),i.max&&(i.max=e(i.max)),i.min&&(i.min=e(i.min));var d=angular.merge({},f,i),c="HH:i",p=$.fn.pickatime.defaults.format,u=d.modelFormat||t.modelFormat||c,g=d.format||t.format||p;d.format=g,s=o.pickatime(d),n=o.pickatime("picker"),l||(m(r,n,g,u),l=!0)}}function m(e,t,o,a){e.$formatters.push(function(r){return c=!0,angular.isUndefined(r)||null===r||""===r?(r="",e.$setViewValue(r),r):(t.set("view",r,{format:a}),t.set("highlight",r,{format:a}),t.get("highlight",o))}),e.$parsers.push(function(){return t.get("select",a)})}var n,s,d,l=!1,c=!1,f={onClose:function(){o.blur()},formatSubmit:null},p=t.$watch("ngModel",function(e){if(e&&!l){var t=setInterval(function(){if(c)clearInterval(t);else{var e=r.$modelValue;for(var o in r.$formatters)e=r.$formatters[o](e);r.$viewValue=e,r.$render()}},250);p()}},!0);if(angular.isDefined(a.pickATime))var u=t.$watch("pickATime",function(e){e&&"object"==typeof e&&(n&&n.stop(),d=setTimeout(function(){i(e),clearTimeout(d)},500),u())},!0);else{if(i(),angular.isDefined(a.minTime))var g=t.$watch("minTime",function(t){t&&n&&(n.set("min",e(t)),g())},!0);if(angular.isDefined(a.maxTime))var h=t.$watch("maxTime",function(t){t&&n&&(n.set("max",e(t)),h())},!0)}}}}),angular.module("schemaForm").config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(e,t,o){var a=function(t,a,r){if("string"===a.type&&"date"===a.format){var i=e.stdFormObj(t,a,r);return i.key=r.path,i.type="datepicker",r.lookup[o.stringify(r.path)]=i,i}};e.defaults.string.unshift(a),t.addMapping("bootstrapDecorator","datepicker","directives/decorators/bootstrap/datepicker/datepicker.html"),t.createDirective("datepicker","directives/decorators/bootstrap/datepicker/datepicker.html")}]),angular.module("schemaForm").config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(e,t,o){var a=function(t,a,r){if("string"===a.type&&"date-time"===a.format){var i=e.stdFormObj(t,a,r);return i.key=r.path,i.type="datetimepicker",r.lookup[o.stringify(r.path)]=i,i}};e.defaults.string.unshift(a),t.addMapping("bootstrapDecorator","datetimepicker","directives/decorators/bootstrap/datepicker/datetimepicker.html"),t.createDirective("datetimepicker","directives/decorators/bootstrap/datepicker/datetimepicker.html")}]),angular.module("schemaForm").config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(e,t,o){var a=function(t,a,r){if("string"===a.type&&"time"===a.format){var i=e.stdFormObj(t,a,r);return i.key=r.path,i.type="timepicker",r.lookup[o.stringify(r.path)]=i,i}};e.defaults.string.unshift(a),t.addMapping("bootstrapDecorator","timepicker","directives/decorators/bootstrap/datepicker/timepicker.html"),t.createDirective("timepicker","directives/decorators/bootstrap/datepicker/timepicker.html")}]);