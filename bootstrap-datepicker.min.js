angular.module("schemaForm").run(["$templateCache",function(e){e.put("directives/decorators/bootstrap/datepicker/datepicker.html",'<div ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess(), \'has-feedback\': form.feedback !== false }" class="form-group {{form.htmlClass}}"><label class="control-label" ng-show="showTitle()">{{form.title}}</label><div ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}"><span ng-if="form.fieldAddonLeft" class="input-group-addon" ng-bind-html="form.fieldAddonLeft"></span> <input ng-show="form.key" ng-model="$$value$$" ng-model-options="form.ngModelOptions" ng-disabled="form.readonly" type="text" name="{{form.key.slice(-1)[0]}}" style="background-color: white" placeholder="{{form.placeholder || form.schema.placeholder }}" schema-validate="form" pick-a-date="form.pickadate" min-date="form.minDate" max-date="form.maxDate" format="form.format" model-format="form.modelFormat" class="form-control {{form.fieldHtmlClass}}"> <span ng-if="form.fieldAddonRight" ng-bind-html="form.fieldAddonRight" class="input-group-addon"></span></div><span ng-if="form.feedback !== false" ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError() }" id="{{form.key.slice(-1)[0] + \'Status\'}}" class="form-control-feedback"></span><div class="help-block" sf-message="form.description"></div></div>'),e.put("directives/decorators/bootstrap/datepicker/datetimepicker.html",'<div ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess(), \'has-feedback\': form.feedback !== false }" class="form-group {{form.htmlClass}}"><label class="control-label" ng-show="showTitle()">{{form.title}}</label><div ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}"><div class="row row-grid"><div class="col-xs-12 col-sm-6"><span ng-if="form.fieldAddonLeft" ng-bind-html="form.fieldAddonLeft" class="input-group-addon"></span> <input ng-show="form.key" ng-model="form.$$date" ng-disabled="form.readonly" type="text" style="background-color: white" placeholder="{{form.date.placeholder }}" pick-a-date="form.date.pickadate" min-date="form.date.minDate" max-date="form.date.maxDate" format="form.date.format" model-format="form.date.modelFormat" class="form-control {{form.date.fieldHtmlClass}}"> <span ng-if="form.date.fieldAddonRight" ng-bind-html="form.date.fieldAddonRight" class="input-group-addon"></span></div><div class="col-xs-12 col-sm-6"><span ng-if="form.time.fieldAddonLeft" ng-bind-html="form.time.fieldAddonLeft" class="input-group-addon"></span> <input ng-show="form.key" ng-model="form.$$time" ng-disabled="form.readonly" type="text" style="background-color: white" placeholder="{{form.time.placeholder }}" pick-a-time="form.time.pickatime" min-time="form.time.minTime" max-time="form.time.maxTime" format="form.time.format" model-format="form.time.modelFormat" class="form-control {{form.time.fieldHtmlClass}}"> <span ng-if="form.fieldAddonRight" ng-bind-html="form.fieldAddonRight" class="input-group-addon"></span></div></div><input type="hidden" pick-a-date-time="form" ng-model="$$value$$" name="{{form.key.slice(-1)[0]}}" schema-validate="form"></div><span ng-if="form.feedback !== false" ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError() }" id="{{form.key.slice(-1)[0] + \'Status\'}}" class="form-control-feedback"></span><div class="help-block" sf-message="form.description"></div></div>'),e.put("directives/decorators/bootstrap/datepicker/timepicker.html",'<div ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess(), \'has-feedback\': form.feedback !== false }" class="form-group {{form.htmlClass}}"><label class="control-label" ng-show="showTitle()">{{form.title}}</label><div ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}"><span ng-if="form.fieldAddonLeft" class="input-group-addon" ng-bind-html="form.fieldAddonLeft"></span> <input ng-show="form.key" ng-model="$$value$$" ng-model-options="form.ngModelOptions" ng-disabled="form.readonly" type="text" name="{{form.key.slice(-1)[0]}}" style="background-color: white" placeholder="{{form.placeholder || form.schema.placeholder }}" schema-validate="form" pick-a-time="form.pickatime" min-time="form.minTime" max-time="form.maxTime" format="form.format" model-format="form.modelFormat" class="form-control {{form.fieldHtmlClass}}"> <span ng-if="form.fieldAddonRight" ng-bind-html="form.fieldAddonRight" class="input-group-addon"></span></div><span ng-if="form.feedback !== false" ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError() }" id="{{form.key.slice(-1)[0] + \'Status\'}}" class="form-control-feedback"></span><div class="help-block" sf-message="form.description"></div></div>')}]),angular.module("schemaForm").directive("pickADate",function(){var e=function(e){return angular.isString(e)||angular.isNumber(e)?new Date(e):e};return{restrict:"A",require:"ngModel",scope:{ngModel:"=",pickADate:"=",minDate:"=",maxDate:"=",format:"=",modelFormat:"="},link:function(t,a,o,i){var r,m,n,s=!0,d={onClose:function(){a.blur()},formatSubmit:null},c=function(n){if(a.pickadate){n&&"object"==typeof n||(n=angular.isDefined(o.pickADate)&&"object"==typeof o.pickADate?o.pickADate:{}),n.max&&(n.max=e(n.max)),n.min&&(n.min=e(n.min));var c=angular.merge({},d,n),l="yyyy-mm-dd",f=$.fn.pickadate.defaults.format,p=c.modelFormat||t.modelFormat||l,u=c.format||t.format||f;c.format=u,m=a.pickadate(c),r=a.pickadate("picker"),s&&(i.$formatters.push(function(e){return angular.isUndefined(e)||null===e?e:(r.set("view",e,{format:p}),r.set("highlight",e,{format:p}),r.get("highlight",u))}),i.$parsers.push(function(e){return r.get("select",p)}),s=!1)}};if(angular.isDefined(o.pickADate))var l=t.$watch("pickADate",function(e){e&&"object"==typeof e&&(r&&r.stop(),n=setTimeout(function(){c(e),clearTimeout(n)},500),l())},!0);else{if(c(),angular.isDefined(o.minDate))var f=t.$watch("minDate",function(t){t&&r&&(r.set("min",e(t)),f())},!0);if(angular.isDefined(o.maxDate))var p=t.$watch("maxDate",function(t){t&&r&&(r.set("max",e(t)),p())},!0)}}}}),angular.module("schemaForm").directive("pickADateTime",function(){return{restrict:"A",scope:{ngModel:"=",pickADateTime:"=",minTime:"=",maxTime:"=",minDate:"=",maxDate:"="},link:function(e,t,a){var o=null;e.ngModel&&moment(e.ngModel).isValid()&&(o=moment(e.ngModel),e.pickADateTime.$$date=o.format("YYYY-MM-DD"),e.pickADateTime.$$time=o.format("HH:mm")),e.$watch(function(e){return{date:e.pickADateTime.$$date,time:e.pickADateTime.$$time}},function(t,a){t&&t.date&&t.time?(date=moment(t.date,"YYYY-MM-DD"),time=t.time.split(":"),o||(o=o=moment.utc().hours("00").minutes("00")),o.year(date.year()).month(date.month()).date(date.date()).hours(time[0]).minutes(time[1]).seconds("00"),ngModel=o.toISOString()):(t.date&&!t.time||!t.date&&t.time)&&(e.pickADateTime.$$datetime="INVALID")},!0)}}}),angular.module("schemaForm").directive("pickATime",function(){var e=function(e){return angular.isString(e)||angular.isNumber(e)?new Date(e):e};return{restrict:"A",require:"ngModel",scope:{ngModel:"=",pickATime:"=",minTime:"=",maxTime:"=",format:"=",modelFormat:"="},link:function(t,a,o,i){var r,m,n,s=!0,d={onClose:function(){a.blur()},formatSubmit:null},c=function(n){if(a.pickadate){n&&"object"==typeof n||(n=angular.isDefined(o.pickATime)&&"object"==typeof o.pickATime?o.pickATime:{}),n.max&&(n.max=e(n.max)),n.min&&(n.min=e(n.min));var c=angular.merge({},d,n),l="HH:i",f=$.fn.pickatime.defaults.format,p=c.modelFormat||t.modelFormat||l,u=c.format||t.format||f;c.format=u,m=a.pickatime(c),r=a.pickatime("picker"),s&&(i.$formatters.push(function(e){return angular.isUndefined(e)||null===e?e:(r.set("view",e,{format:p}),r.set("highlight",e,{format:p}),r.get("highlight",u))}),i.$parsers.push(function(){return r.get("select",p)}),s=!1)}};if(angular.isDefined(o.pickATime))var l=t.$watch("pickATime",function(e){e&&"object"==typeof e&&(r&&r.stop(),n=setTimeout(function(){c(e),clearTimeout(n)},500),l())},!0);else{if(c(),angular.isDefined(o.minTime))var f=t.$watch("minTime",function(t){t&&r&&(r.set("min",e(t)),f())},!0);if(angular.isDefined(o.maxTime))var p=t.$watch("maxTime",function(t){t&&r&&(r.set("max",e(t)),p())},!0)}}}}),angular.module("schemaForm").config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(e,t,a){var o=function(t,o,i){if("string"===o.type&&"date"===o.format){var r=e.stdFormObj(t,o,i);return r.key=i.path,r.type="datepicker",i.lookup[a.stringify(i.path)]=r,r}};e.defaults.string.unshift(o),t.addMapping("bootstrapDecorator","datepicker","directives/decorators/bootstrap/datepicker/datepicker.html"),t.createDirective("datepicker","directives/decorators/bootstrap/datepicker/datepicker.html")}]),angular.module("schemaForm").config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(e,t,a){var o=function(t,o,i){if("string"===o.type&&"date-time"===o.format){var r=e.stdFormObj(t,o,i);return r.key=i.path,r.type="datetimepicker",i.lookup[a.stringify(i.path)]=r,r}};e.defaults.string.unshift(o),t.addMapping("bootstrapDecorator","datetimepicker","directives/decorators/bootstrap/datepicker/datetimepicker.html"),t.createDirective("datetimepicker","directives/decorators/bootstrap/datepicker/datetimepicker.html")}]),angular.module("schemaForm").config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(e,t,a){var o=function(t,o,i){if("string"===o.type&&"time"===o.format){var r=e.stdFormObj(t,o,i);return r.key=i.path,r.type="timepicker",i.lookup[a.stringify(i.path)]=r,r}};e.defaults.string.unshift(o),t.addMapping("bootstrapDecorator","timepicker","directives/decorators/bootstrap/datepicker/timepicker.html"),t.createDirective("timepicker","directives/decorators/bootstrap/datepicker/timepicker.html")}]);